<div class="post mt-3 mr-1 pt-4 pb-5 pl-4 pr-4 bg-white shadow-xss rounded-md">
  <div class="post-top">
    <div class="w-full flex justify-between items-center">
      <div class="user flex items-center">
        <div class="avatar-common-post">
          <div *ngIf="post.type_user == 'student'" class="img">
            <img [src]="apiUrl + post.user.avatar" alt="" />
          </div>
          <div *ngIf="post.type_user == 'officer'" class="img">
            <img [src]="apiUrl + post.officer.avatar" alt="" />
          </div>
        </div>
        <span class="post-info ml-2">
          <span class="user-name">
            <a
              *ngIf="post.type_user == 'student'"
              class="name font-medium cursor-pointer"
              style="color: #333333; text-decoration: none"
            >
              {{ post.user.name }}
            </a>
            <a
              *ngIf="post.type_user == 'officer'"
              class="name font-medium cursor-pointer"
              style="color: #333333; text-decoration: none"
            >
              {{ post.officer.name }}
            </a>
            <span *ngIf="post.title != null" class="ml-1">
              <span class="text-gray-400"> đã đăng </span>
              <span class="font-medium ml-1">
                {{ post.title }}
              </span>
            </span>
            <!-- <span *ngIf="post.usersTags.length > 0" class="user-tag ml-1">
                            <span class='text-gray-400'>cùng với </span>
                            <span class='font-medium ml-1'>
                                {{ post.usersTags[0].user_name }}
                            </span>
                            <span *ngIf="post.usersTags.length == 2">
                                <span class='ml-1 mr-1 text-gray-400'>và</span>
                                <span class='font-medium ml-1'>
                                    {{ post.usersTags[1].user_name }}
                                </span>
                            </span>

                            <span *ngIf="post.usersTags.length > 2">
                                <span class='ml-1 mr-1 text-gray-400'>và</span>
                                <span class='font-medium ml-1'>
                                    {{ (post.usersTags.length - 1) }}
                                    <span class='ml-1'>
                                    người khác
                                    </span>
                                </span>
                            </span>
                        </span> -->
          </span>
          <div class="updated text-sm text-gray-400">3 hour ago</div>
        </span>
      </div>
      <div class="action-right cursor-pointer">
        <div class="box-action">
          <i class="fa-solid fa-ellipsis"></i>
        </div>
      </div>
    </div>
  </div>
  <div class="caption text-sm">
    <p>
      {{ post.caption }}
    </p>
    <button class="text-blue-500">Xem thêm</button>
  </div>
  <app-content-post [contents]="post.contents"></app-content-post>
  <div class="action-bottom mt-3">
    <div class="flex items-center justify-between">
      <div class="action-left flex">
        <div class="reaction flex items-center">
          <div class="heart text-xl mr-2 hover:text-red-500 cursor-pointer">
            <!-- <i class="text-red-500 fa-solid fa-heart"></i> -->
            <i
              *ngIf="hasUserReacted()"
              class="text-red-500 fa-solid fa-heart"
            ></i>
            <i 
            *ngIf="!hasUserReacted()" 
            (click)="handleReaction()"
            class="fa-regular fa-heart"></i>
          </div>
          <div class="length-reaction text-sm font-medium cursor-pointer">
            {{ post.reactions.length }} Thích
          </div>
        </div>

        <div class="comment flex items-center ml-3">
          <div class="heart text-xl mr-2">
            <i class="fa-regular fa-comment"></i>
          </div>
          <div class="length-reaction text-sm font-medium">
            {{ post.lengthComment }} Bình luận
          </div>
        </div>
      </div>
      <div class="action-right">
        <div class="action-share flex items-center">
          <div class="icon text-blue-600">
            <i class="text-xl fa-solid fa-share"></i>
          </div>
          <span class="ml-2 font-medium">Chia sẻ</span>
        </div>
      </div>
    </div>
  </div>
  <!-- <ModalUserReaction [open]="openModalReaction" [post_id]="postReactionId" [setOpenModalReaction]="setOpenModalReaction"/> -->
</div>
