<div id="create-post">
  <div class="bg-white rounded-sm p-3">
    <div class="title flex flex-wrap items-center">
      <div class="title-text flex w-full">
        <div class="icon text-blue-500">
          <i class="fa-solid fa-pencil"></i>
        </div>
        <div class="title-value ml-2 blur-word">Tạo mới bài viết</div>
      </div>

      <div class="flex mt-2 option-title w-full">
        <div class="type-question selectoption mb-2">
          <p-dropdown
            [options]="dataTypeQuestions"
            optionLabel="name"
            [showClear]="true"
            [(ngModel)]="selectedTypeQuestion"
            placeholder="Loại câu hỏi"
          ></p-dropdown>
        </div>
        <div class="department ml-2 mb-2 selectoption">
          <p-dropdown
            [options]="dataDepartments"
            optionLabel="name"
            [showClear]="true"
            [(ngModel)]="selectedDepartment"
            placeholder="Dành cho phòng ban"
          ></p-dropdown>
          <!-- <p-treeSelect
            [options]="dataDepartments"
            placeholder="Thuộc bộ phận"
          ></p-treeSelect> -->
        </div>
      </div>
    </div>

    <div class="content-input">
      <div class="flex mt-3 pt-2 pb-2 pl-1 pr-1">
        <div class="user-left">
          <div class="avatar-common">
            <img src="https://uitheme.net/sociala/images/user-8.png" alt="" />
          </div>
        </div>
        <div class="input-right w-full">
          <textarea
            [(ngModel)]="caption"
            (input)="handleInputChange()"
            [rows]="3"
            [cols]="30"
            class="w-full"
            pInputTextarea
            [autoResize]="true"
            placeholder="Tiêu đề..."
          ></textarea>
        </div>
      </div>
      <div
        *ngIf="mediasPreviewUrl.length > 0"
        class="mt-3 mr-1 pt-5 pb-5 pl-4 pr-4"
      >
        <hr />
        <div class="text-end text-red-500 mb-2">
          <span (click)="deleteFile()" class="cursor-pointer">Xóa tất cả</span>
        </div>
        <app-preview-media [contents]="mediasPreviewUrl"></app-preview-media>
      </div>
    </div>

    <input
      class="hidden"
      type="file"
      id="file-img"
      accept="image/*"
      (change)="handleImageChange($event)"
      multiple
    />
    <input
      class="hidden"
      type="file"
      id="file-video"
      (change)="handleVideoChange($event)"
      accept="video/mp4, video/webm, video/ogg"
    />
    <input class="hidden" type="file" id="file" accept="*" />

    <div class="option-bottom w-full mt-3">
      <div class="flex">
        <label
          for="file-video"
          class="option mr-4 cursor-pointer flex items-center"
        >
          <div class="icon text-red-500 mr-2 text-xl">
            <i class="fa-regular fa-circle-play"></i>
          </div>
          <div class="text-title text-gray-500 hidden md:block">Video</div>
        </label>
        <label
          for="file-img"
          class="option mr-4 cursor-pointer flex items-center"
        >
          <div class="icon text-green-400 mr-2 text-xl">
            <i class="fa-regular fa-image"></i>
          </div>

          <div class="text-title text-gray-500 hidden md:block">Hình ảnh</div>
        </label>
        <label for="file" class="option mr-4 cursor-pointer flex items-center">
          <div class="icon text-blue-500 mr-2 text-xl">
            <i class="fa-solid fa-paperclip"></i>
          </div>

          <div class="text-title text-gray-500 hidden md:block">File</div>
        </label>
        <div class="option mr-4 cursor-pointer flex items-center">
          <div class="icon text-yellow-500 mr-2 text-xl">
            <i class="fa-regular fa-face-smile"></i>
          </div>
          <div class="text-title text-gray-500 hidden md:block">Cảm xúc</div>
        </div>

        <div class="option mr-4 cursor-pointer flex items-center">
          <div class="icon text-blue-500 mr-2 text-xl">
            <i class="fa-solid fa-briefcase"></i>
          </div>
          <div
            (click)="showDepartmentDialog()"
            class="text-title text-gray-500 hidden md:block"
          >
            Phòng ban
          </div>
        </div>
      </div>
    </div>

    <div *ngIf="isCaptionValid()" class="handleSubmit">
      <button
        (click)="handleSumit()"
        class="text-white p-2 w-full mt-3"
        style="background-color: #058bff"
      >
        Đăng bài
      </button>
    </div>
  </div>

  <!-- <p-dialog header="Lựa chọn phòng ban" [(visible)]="departmentDialogVisible" [style]="{width: '50vw'}">
      <div class="dialog-department">
        <div class="data-department">
          <div class="item w-full cursor-pointer p-2">
              Phòng công tác sinh viên
          </div>
          <div class="item w-full cursor-pointer p-2">
              Phòng hành chính tổng hợp
          </div>
          <div class="item w-full cursor-pointer p-2">
            Bộ phận một cửa
          </div>
        </div>
      </div>
  </p-dialog> -->
</div>
